<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ejercicio 7</title>
    <link rel="shortcut icon" href="../../../../favicon.ico" type="image/x-icon">
    <script type="text/javascript">
        function validarTargeta() {
            var targeta = document.getElementById('targeta').value;
            var numero = document.getElementById('numero').value;
            if(targeta=='mastercard'){
                var patron = /^[51-55]{16};
                if(patron.test(targeta)==false){
                    alert("Error el número no se ajusta al patron");
                    return false;
                }
            }else if(targeta=='visa'){
                if(targeta.length!=16 || targeta.length!=13){
                    alert("Error el número no se ajusta al patron");
                    return false;
                }
            }else if(targeta=='americanexpress'){
                var patron = /^[^34-37]{15};
                if(patron.test(targeta)==true){
                    return true;
                }else{
                    alert("Error el número no se ajusta al patron");
                    return false;
                }
            }else if(targeta=='discover'){
                var patron = /^[^6011]{16};
                if(patron.test(targeta)==true){
                    return true;
                }else{
                    alert("Error el número no se ajusta al patron");
                    return false;
                }
            }
        }


    </script>
</head>
<body>
<form onsubmit="return validarTargeta();">
    <label for="targeta">Seleccione el tipo de targeta: </label>
    <select name="targeta" id="targeta">
        <option class="heading" selected>Tipo de targeta</option>
        <option value="mastercard">Mastercard</option>
        <option value="visa">Visa</option>
        <option value="americanexpress">American Express</option>
        <option value="discover">Discover</option>
    </select><br>
    <label for="numero">Numero de la misma: </label><br>
    <input type="text" name="numero" id="numero" placeholder="Número de targeta">
    <br><br>
    <input type="submit" name="aceptar" value="Aceptar">
    <input type="button" name="cancelar" value="Cancelar">
</form>
</body>
</html>